app-id: 
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
command: run.sh
modules:
  - name: boost
    buildsystem: simple
    build-commands:
      - ./bootstrap.sh --prefix=/app --with-libraries=filesystem,system
      - ./b2 headers
      - ./b2 install
    sources:
      - sha256: 475d589d51a7f8b3ba2ba4eda022b170e562ca3b760ee922c146b6c65856ef39
        type: archive
        url: https://boostorg.jfrog.io/artifactory/main/release/1.79.0/source/boost_1_79_0.tar.bz2 
  - shared-modules/SDL/SDL-1.2.15.json
  - shared-modules/SDL/SDL_image-1.2.12.json
  - shared-modules/SDL/SDL_net-1.2.8.json
  - shared-modules/SDL/SDL_ttf-2.0.11.json
  - shared-modules/glu/glu-9.json
  - name: alephone
    buildsystem: autotools
    config-opts:
      - --bindir=/app/bin
      - --libdir=/app/lib
      - --without-ffmpeg
      - --without-speex
      - --without-curl
      - --without-zzip
      - --with-boost-libdir=/app/lib
    sources:
      - type: archive
        url: https://github.com/Aleph-One-Marathon/alephone/releases/download/release-20220115/AlephOne-20220115.tar.bz2
        sha256: ca0f5e94c4493a49522fccbbbe512831ed21f88d08bc93b4e365509ca057c2ce
  - name: rubicon-data
    buildsystem: simple
    build-commands:
      - cp -r . /app/rubiconx
    sources:
      - type: archive
        url: http://files5.bungie.org/marathon/marathonRubiconX.zip
        sha256: f546628b654b0e5022d2a24aabc2e23043d90ec71fa4b9e7bee65cc5138aba24
  - name: rubiconx
    buildsystem: simple
    build-commands:
      - install -D rubiconx.sh /app/bin/rubiconx.sh
    sources:
      - type: file
        path: rubiconx.sh

